@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/*
 * LightsLite - Catppuccin Mocha Theme integrated with shadcn-svelte
 * A CAD/technical application theme using Catppuccin Mocha palette
 * https://catppuccin.com/
 */

/* 
 * Catppuccin Mocha Colors Reference:
 * --crust: #11111b     (darkest)
 * --mantle: #181825    (elevated dark)
 * --base: #1e1e2e      (main background)
 * --surface0: #313244  (surface)
 * --surface1: #45475a  (border/elevated)
 * --surface2: #585b70  (highlighted border)
 * --overlay0: #6c7086  (muted text)
 * --overlay1: #7f849c  
 * --overlay2: #9399b2  
 * --subtext0: #a6adc8  
 * --subtext1: #bac2de  (secondary text)
 * --text: #cdd6f4      (primary text)
 * --blue: #89b4fa      (accent)
 * --lavender: #b4befe  (brand)
 */

/* Dark theme by default (Catppuccin Mocha) */
:root {
	--radius: 0.375rem;

	/* Map shadcn variables to Catppuccin Mocha dark theme */
	--background: #1e1e2e; /* base */
	--foreground: #cdd6f4; /* text */
	--card: #181825; /* mantle */
	--card-foreground: #cdd6f4; /* text */
	--popover: #181825; /* mantle */
	--popover-foreground: #cdd6f4; /* text */
	--primary: #b4befe; /* lavender */
	--primary-foreground: #11111b; /* crust */
	--secondary: #313244; /* surface0 */
	--secondary-foreground: #cdd6f4;
	--muted: #313244; /* surface0 */
	--muted-foreground: #a6adc8; /* subtext0 */
	--accent: #313244; /* surface0 */
	--accent-foreground: #cdd6f4; /* text */
	--destructive: #f38ba8; /* red */
	--destructive-foreground: #11111b;
	--border: #45475a; /* surface1 */
	--input: #313244; /* surface0 */
	--ring: #b4befe; /* lavender */
	--chart-1: #89b4fa; /* blue */
	--chart-2: #a6e3a1; /* green */
	--chart-3: #fab387; /* peach */
	--chart-4: #cba6f7; /* mauve */
	--chart-5: #94e2d5; /* teal */
	--sidebar: #11111b; /* crust */
	--sidebar-foreground: #cdd6f4; /* text */
	--sidebar-primary: #b4befe; /* lavender */
	--sidebar-primary-foreground: #11111b;
	--sidebar-accent: #313244; /* surface0 */
	--sidebar-accent-foreground: #cdd6f4;
	--sidebar-border: #45475a; /* surface1 */
	--sidebar-ring: #b4befe;

	/* === Extended Catppuccin Mocha Colors for CAD app === */
	--color-brand: #e7cbff;

	/* Base/Background colors */
	--color-crust: #11111b;
	--color-mantle: #181825;
	--color-base: #1e1e2e;

	/* Surface colors */
	--color-surface0: #313244;
	--color-surface1: #45475a;
	--color-surface2: #585b70;

	/* Overlay colors */
	--color-overlay0: #6c7086;
	--color-overlay1: #7f849c;
	--color-overlay2: #9399b2;

	/* Text colors */
	--color-subtext0: #a6adc8;
	--color-subtext1: #bac2de;
	--color-text: #cdd6f4;

	/* === Catppuccin Accent Colors === */
	--color-rosewater: #f5e0dc;
	--color-flamingo: #f2cdcd;
	--color-pink: #f5c2e7;
	--color-mauve: #cba6f7;
	--color-red: #f38ba8;
	--color-maroon: #eba0ac;
	--color-peach: #fab387;
	--color-yellow: #f9e2af;
	--color-green: #a6e3a1;
	--color-teal: #94e2d5;
	--color-sky: #89dceb;
	--color-sapphire: #74c7ec;
	--color-blue: #89b4fa;
	--color-lavender: #b4befe;

	/* === CAD-specific Semantic Colors === */
	--color-canvas: #1e1e2e;
	--color-canvas-dark: #181825;
	--color-panel: #181825;
	--color-panel-hover: #313244;
	--color-bg-primary: #1e1e2e;
	--color-bg-secondary: #181825;
	--color-bg-tertiary: #11111b;
	--color-bg-hover: #313244;
	--color-border: #45475a;
	--color-border-focus: #585b70;
	--color-accent: #04a5e5;
	--color-accent-hover: #74c7ec;
	--color-accent-muted: #7287fd;
	--color-success: #a6e3a1;
	--color-warning: #f9e2af;
	--color-error: #f38ba8;
	--color-info: #89dceb;
	--color-text-primary: #cdd6f4;
	--color-text-secondary: #bac2de;
	--color-text-muted: #a6adc8;
	--color-text-subtle: #9399b2;
	--color-grid-major: #45475a;
	--color-grid-minor: #313244;
	--color-guide: #fab387;
	--color-selection: #89b4fa;
	--color-stroke-default: #cdd6f4;
	--color-fill-default: transparent;

	/* Spacing */
	--spacing-toolbar: 40px;
	--spacing-panel: 260px;
	--spacing-statusbar: 24px;

	/* Typography */
	--font-mono: 'SF Mono', 'Fira Code', 'JetBrains Mono', ui-monospace, monospace;
}

/* Light mode - kept for potential future use but app defaults to dark */
.light {
	--background: #ffffff;
	--foreground: #1e1e2e;
	--card: #ffffff;
	--card-foreground: #1e1e2e;
	--popover: #ffffff;
	--popover-foreground: #1e1e2e;
	--primary: #1e1e2e;
	--primary-foreground: #ffffff;
	--secondary: #f4f4f5;
	--secondary-foreground: #1e1e2e;
	--muted: #f4f4f5;
	--muted-foreground: #6c7086;
	--accent: #f4f4f5;
	--accent-foreground: #1e1e2e;
	--destructive: #ef4444;
	--border: #e4e4e7;
	--input: #e4e4e7;
	--ring: #1e1e2e;
}

@theme inline {
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-chart-1: var(--chart-1);
	--color-chart-2: var(--chart-2);
	--color-chart-3: var(--chart-3);
	--color-chart-4: var(--chart-4);
	--color-chart-5: var(--chart-5);
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);

	/* Extended Catppuccin colors exposed to Tailwind */
	--color-crust: var(--color-crust);
	--color-mantle: var(--color-mantle);
	--color-base: var(--color-base);
	--color-surface0: var(--color-surface0);
	--color-surface1: var(--color-surface1);
	--color-surface2: var(--color-surface2);
	--color-overlay0: var(--color-overlay0);
	--color-overlay1: var(--color-overlay1);
	--color-overlay2: var(--color-overlay2);
	--color-subtext0: var(--color-subtext0);
	--color-subtext1: var(--color-subtext1);
	--color-text: var(--color-text);
	--color-rosewater: var(--color-rosewater);
	--color-flamingo: var(--color-flamingo);
	--color-pink: var(--color-pink);
	--color-mauve: var(--color-mauve);
	--color-red: var(--color-red);
	--color-maroon: var(--color-maroon);
	--color-peach: var(--color-peach);
	--color-yellow: var(--color-yellow);
	--color-green: var(--color-green);
	--color-teal: var(--color-teal);
	--color-sky: var(--color-sky);
	--color-sapphire: var(--color-sapphire);
	--color-blue: var(--color-blue);
	--color-lavender: var(--color-lavender);
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}

	html,
	body {
		@apply bg-background text-foreground antialiased;
		font-feature-settings:
			'tnum' 1,
			'kern' 1;
	}

	/* Prevent text selection in UI elements for better drag behavior */
	button,
	[role='button'] {
		@apply select-none;
	}

	/* Custom scrollbar styling for dark theme */
	::-webkit-scrollbar {
		@apply w-2 h-2;
	}

	::-webkit-scrollbar-track {
		background: var(--color-mantle);
	}

	::-webkit-scrollbar-thumb {
		background: var(--color-surface1);
		border-radius: 9999px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: var(--color-surface2);
	}
}

/* Component layer for reusable CAD UI patterns */
@layer components {
	/* Panel styling */
	.panel {
		@apply bg-card border border-border rounded-sm;
	}

	/* Primary button - accent colored with dark text for contrast */
	.btn-primary {
		@apply inline-flex items-center justify-center px-4 py-2 rounded-md
           bg-primary text-primary-foreground font-medium
           hover:bg-primary/90 transition-colors duration-150;
	}

	/* Secondary button - outlined */
	.btn-secondary {
		@apply inline-flex items-center justify-center px-4 py-2 rounded-md
           border border-border text-muted-foreground
           hover:bg-secondary hover:text-foreground transition-colors duration-150;
	}

	/* Toolbar button base */
	.toolbar-btn {
		@apply flex items-center justify-center w-8 h-8 rounded-sm
           text-muted-foreground hover:text-foreground hover:bg-secondary
           transition-colors duration-150;
	}

	.toolbar-btn.active {
		@apply bg-primary text-primary-foreground;
	}

	/* Input styling for precision values */
	.input-precision {
		@apply bg-background border border-border rounded-sm px-2 py-1
           font-mono text-sm text-foreground
           focus:outline-none focus:border-ring;
	}

	/* Card styling for panels */
	.card {
		@apply bg-secondary border border-border rounded-lg p-4;
	}

	/* Badge/tag styling */
	.badge {
		@apply inline-flex items-center px-2 py-0.5 rounded text-xs font-medium;
	}

	.badge-blue {
		background: color-mix(in srgb, var(--color-blue) 20%, transparent);
		color: var(--color-blue);
	}

	.badge-green {
		background: color-mix(in srgb, var(--color-green) 20%, transparent);
		color: var(--color-green);
	}

	.badge-yellow {
		background: color-mix(in srgb, var(--color-yellow) 20%, transparent);
		color: var(--color-yellow);
	}

	.badge-red {
		background: color-mix(in srgb, var(--color-red) 20%, transparent);
		color: var(--color-red);
	}
}

/* Utility layer for CAD-specific utilities */
@layer utilities {
	/* Canvas cursor utilities */
	.cursor-crosshair {
		cursor: crosshair;
	}

	.cursor-grab {
		cursor: grab;
	}

	.cursor-grabbing {
		cursor: grabbing;
	}

	/* Catppuccin color utilities as text colors */
	.text-ctp-rosewater {
		color: var(--color-rosewater);
	}
	.text-ctp-flamingo {
		color: var(--color-flamingo);
	}
	.text-ctp-pink {
		color: var(--color-pink);
	}
	.text-ctp-mauve {
		color: var(--color-mauve);
	}
	.text-ctp-red {
		color: var(--color-red);
	}
	.text-ctp-maroon {
		color: var(--color-maroon);
	}
	.text-ctp-peach {
		color: var(--color-peach);
	}
	.text-ctp-yellow {
		color: var(--color-yellow);
	}
	.text-ctp-green {
		color: var(--color-green);
	}
	.text-ctp-teal {
		color: var(--color-teal);
	}
	.text-ctp-sky {
		color: var(--color-sky);
	}
	.text-ctp-sapphire {
		color: var(--color-sapphire);
	}
	.text-ctp-blue {
		color: var(--color-blue);
	}
	.text-ctp-lavender {
		color: var(--color-lavender);
	}
}
